!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.negFeedback=t():e.negFeedback=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";n(1);var r=n(5),o=function(e,t){return t=t||document,t.querySelector(e)},a=function(e){return"function"==typeof e},s={From:"",To:"",Subject:"",Body:"",IsNeedLog:!1,Priority:"Normal",ContentType:"html",MailType:"Smtp",SmtpSetting:{SubjectEncoding:"UTF8",BodyEncoding:"UTF8"}},i={},c=n(6),d=n(7),l=void 0,f=void 0,p=function(e,t){return e.replace(/{{[a-zA-Z0-9\$\.\_]+}}/g,function(e,n,r){var o=e.replace(/^{{/g,"").replace(/}}$/g,""),a="temp_obj_"+Date.now();window[a]=t;try{var s=window.eval("with("+a+")"+o);return delete window[a],s||""}catch(i){return""}})},u=function(e,t){var n=o("#neg-feedback-instance"),r=o("textarea",n).value;return p(d,{description:r,imgSrcUrl:e,userInfo:t,now:(new Date).toString(),currentHref:window.location.href,navigator:navigator,screen:window.screen,hideScreenshot:o("#checkbox-for-screenshot",n).checked?"":"hidden",hideBrowserInfo:o("#checkbox-for-browserinfo",n).checked?"":"hidden"})},h=function(e){var t=u(e,l.userInfo);return s.From=l.from,s.To=l.to,s.Subject=l.subject,s.Body=t,s},b=function(e,t){e.style.display=t?"block":"none"},g=function(e){var t=l.html2canvasOpt||{taintTest:!1};t.onrendered=function(t){e(t)},html2canvas(document.body,t)},v=function(){var e=[];return e.push("appVersion: "+navigator.appVersion),e.push("language: "+navigator.language),e.push("userAgent: "+navigator.userAgent),e.push("vendor: "+navigator.vendor),e.push("screenWidth: "+screen.width),e.push("screenHeight: "+screen.height),e},x=function(e,t){var n=Math.random().toString("36").substring(23),o=l.dfisUploadAddress+"/neg_feedback_imgs_"+Date.now()+"_"+n+".jpg";if(e.toBlob)e.toBlob(function(e){r.post(o,e,function(e){t(o)},!0)});else{var a=e.msToBlob();r.post(o,a,function(e){t(o)},!0)}},m=function(e){f=null;var t=e.toDataURL();f=e;var n=document.getElementById("neg-feedback-instance");o("textarea",n).value="",o(".feedback-screenshot-img > a",n).href=t,o(".feedback-screenshot-img img",n).src=t;var r=o("#checkbox-for-screenshot",n);r.checked||r.click();var a=o("#checkbox-for-browserinfo",n);a.checked||a.click(),b(n,!0)},y=function(){var e=document.createElement("div");document.body.appendChild(e),e.outerHTML=c},k=function(){var e=o("#neg-feedback-instance");o(".feedback-title",e).innerHTML=l.feedbackHeader||"Send feedback";var t=o(".feedback-screenshot",e),n=o("#checkbox-for-screenshot",t);n.addEventListener("change",function(){b(o(".svg-unchecked",t),!this.checked),b(o(".svg-checked",t),this.checked),b(o(".feedback-screenshot-img img",e),this.checked)});var s=o(".feedback-browserinfo",e),i=o("#checkbox-for-browserinfo",s);i.addEventListener("change",function(){b(o(".svg-unchecked",s),!this.checked),b(o(".svg-checked",s),this.checked)}),o("#feedback-btn-cancel",e).addEventListener("click",function(){e.style.display="none"}),o("form",e).addEventListener("submit",function(t){t.preventDefault(),x(f,function(t){var n=h(t);a(l.onBeforeSend)&&l.onBeforeSend(n),r.post(l.mailServer,JSON.stringify(n),function(t){a(l.onAfterSend)&&l.onAfterSend(JSON.parse(t)),e.style.display="none"})})}),o(".show-browserinfo",e).addEventListener("click",function(e){window.alert(v().join("\n")),e.preventDefault()})};i.init=function(e){l=e,y(),k()},i.show=function(){g(function(e){m(e)})},e.exports=i},function(e,t,n){var r=n(2);"string"==typeof r&&(r=[[e.id,r,""]]);n(4)(r,{});r.locals&&(e.exports=r.locals)},function(e,t,n){t=e.exports=n(3)(),t.push([e.id,".neg-feedback{position:fixed;top:50%;left:50%;z-index:999999999;border-radius:2px;box-shadow:0 24px 38px 3px rgba(0,0,0,.137255),0 9px 46px 8px rgba(0,0,0,.117647),0 11px 15px -7px rgba(0,0,0,.2);width:360px;margin-left:-180px;margin-top:-310px;background:#fff}.neg-feedback *{box-sizing:border-box;font-family:Roboto,RobotoDraft,Helvetica,Arial,sans-serif}.neg-feedback form{background:#fff}.neg-feedback:before{content:'';display:block;position:fixed;top:0;right:0;bottom:0;left:0;z-index:-1;background:#000;opacity:.4}.neg-feedback .feedback-title{align-items:center;display:flex;height:56px;color:#fff;background:#607d8b;padding:13px 16px 11px;margin:0;font-size:20px;font-weight:300}.neg-feedback .feedback-content textarea{border:none;box-shadow:none;color:#212121;flex-grow:1;font-weight:400;font-size:16px;line-height:normal;max-width:100%;outline:none;padding:18px 16px 0;resize:none;width:100%}.neg-feedback .feedback-browserinfo,.neg-feedback .feedback-screenshot{padding:8px 16px 0 8px;background:#fff;z-index:10}.neg-feedback .feedback-footer{margin-top:8px;border-top:1px solid #e0e0e0;text-align:right;line-height:40px;padding:0 8px;background:#fff}.neg-feedback .feedback-footer button{border-color:transparent;border-radius:2px;cursor:pointer;font-weight:500;font-size:14px;line-height:20px;height:36px;margin:0;min-width:64px;opacity:1;outline:none;padding:0 8px;background-color:transparent}.neg-feedback .feedback-footer button:hover{background:#d3d3d3}",""])},function(e,t){"use strict";e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t,n){function r(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=u[r.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](r.parts[a]);for(;a<r.parts.length;a++)o.parts.push(d(r.parts[a],t))}else{for(var s=[],a=0;a<r.parts.length;a++)s.push(d(r.parts[a],t));u[r.id]={id:r.id,refs:1,parts:s}}}}function o(e){for(var t=[],n={},r=0;r<e.length;r++){var o=e[r],a=o[0],s=o[1],i=o[2],c=o[3],d={css:s,media:i,sourceMap:c};n[a]?n[a].parts.push(d):t.push(n[a]={id:a,parts:[d]})}return t}function a(e,t){var n=g(),r=m[m.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),m.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function s(e){e.parentNode.removeChild(e);var t=m.indexOf(e);t>=0&&m.splice(t,1)}function i(e){var t=document.createElement("style");return t.type="text/css",a(e,t),t}function c(e){var t=document.createElement("link");return t.rel="stylesheet",a(e,t),t}function d(e,t){var n,r,o;if(t.singleton){var a=x++;n=v||(v=i(t)),r=l.bind(null,n,a,!1),o=l.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(t),r=p.bind(null,n),o=function(){s(n),n.href&&URL.revokeObjectURL(n.href)}):(n=i(t),r=f.bind(null,n),o=function(){s(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}function l(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var a=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function f(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}var u={},h=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},b=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=h(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,x=0,m=[];e.exports=function(e,t){if("object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},"undefined"==typeof t.singleton&&(t.singleton=b()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=o(e);return r(n,t),function(e){for(var a=[],s=0;s<n.length;s++){var i=n[s],c=u[i.id];c.refs--,a.push(c)}if(e){var d=o(e);r(d,t)}for(var s=0;s<a.length;s++){var c=a[s];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete u[c.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){"use strict";var n={};n.post=function(e,t,n,r){var o=new XMLHttpRequest;o.open("POST",e,!0),r?o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):(o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Accept","application/json")),o.onreadystatechange=function(){o.readyState===XMLHttpRequest.DONE&&n(o.responseText)},o.send(t)},e.exports=n},function(e,t){e.exports='<div id=neg-feedback-instance class=neg-feedback style=display:none> <form name=neg-feedback-form> <h1 class=feedback-title>Send feedback</h1> <div class=feedback-content> <textarea required rows=8 autofocus placeholder="Describe your issue or share your ideas"></textarea> </div> <div class=feedback-screenshot> <label key=include-screenshot style=align-items:center;cursor:pointer;display:flex;width:100%> <input id=checkbox-for-screenshot type=checkbox style=opacity:.01;position:absolute> <div style=border-radius:50%;height:32px;width:32px> <svg class=svg-unchecked xmlns=https://www.w3.org/2000/svg focusable=false aria-label="" fill=#757575 viewBox="0 0 24 24" height=24 width=24 style=margin-left:4px;margin-top:4px;display:none> <path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path> </svg> <svg class=svg-checked xmlns=https://www.w3.org/2000/svg focusable=false aria-label="" fill=#4285F4 viewBox="0 0 24 24" height=24 width=24 style=margin-left:4px;margin-top:4px> <path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path> </svg> </div> <span style=display:flex;font-family:Roboto,RobotoDraft,Helvetica,Arial,sans-serif;font-size:14px>Include screenshot</span> </label> <div class=feedback-screenshot-img style=width:328px;padding:8px;max-height:150px;overflow:hidden> <a target=_blank> <img alt="" style=width:100%;height:100%> </a> </div> </div> <div class=feedback-browserinfo> <label key=include-browserinfo style=align-items:center;cursor:pointer;display:flex;width:100%> <input id=checkbox-for-browserinfo type=checkbox style=opacity:.01;position:absolute> <div style=border-radius:50%;height:32px;width:32px> <svg class=svg-unchecked xmlns=https://www.w3.org/2000/svg focusable=false aria-label="" fill=#757575 viewBox="0 0 24 24" height=24 width=24 style=margin-left:4px;margin-top:4px;display:none> <path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"></path> </svg> <svg class=svg-checked xmlns=https://www.w3.org/2000/svg focusable=false aria-label="" fill=#4285F4 viewBox="0 0 24 24" height=24 width=24 style=margin-left:4px;margin-top:4px> <path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path> </svg> </div> <span style=display:flex;font-family:Roboto,RobotoDraft,Helvetica,Arial,sans-serif;font-size:14px>Include&nbsp; <a class=show-browserinfo href=#>browserinfo</a> </span> </label> </div> <div class=feedback-footer> <button type=reset style=color:#757575 id=feedback-btn-cancel> <span style=pointer-events:none>CANCEL</span> </button> <button style=color:#4285f4 id=feedback-btn-send> <span style=pointer-events:none>SEND</span> </button> </div> </form> </div>'},function(e,t){e.exports='<style>td{border-top:1px solid #a9a9a9;border-left:1px solid #a9a9a9}.label{border-left:none}.hidden{display:none}</style> User <b>{{userInfo.userName}}</b> Feedback: <br/><br/> <div style=color:#8b0000>{{description}}</div> <br/><br/> <div class={{hideScreenshot}}> <b>Screenshot:</b> <br/><br/> <a href={{imgSrcUrl}} target=_blank> <img src={{imgSrcUrl}} width=100% /></a> <br/> <i>Click to see original image</i> </div> <br/><br/><br/> <table cellpadding=0 cellspacing=0 style="border:1px solid #a9a9a9"> <tr> <th colspan=2 style=background:#B8CCE4>User Info</th> </tr> <tr> <td class=label>User</td> <td>{{userInfo.userId}}</td> </tr> <tr> <td class=label>Department</td> <td>{{userInfo.department}}</td> </tr> <tr> <td class=label>IpAddress</td> <td>{{userInfo.ipAddress}}</td> </tr> <tr> <td class=label>Date</td> <td>{{now}}</td> </tr> <tr> <td class=label>URL</td> <td>{{currentHref}}</td> </tr> <tr class={{hideBrowserInfo}}> <th colspan=2 style=background:#D6E3BC>Brower Info</th> </tr> <tr class={{hideBrowserInfo}}> <td class=label>App Version</td> <td>{{navigator.appVersion}}</td> </tr> <tr class={{hideBrowserInfo}}> <td class=label>Language</td> <td>{{navigator.language}}</td> </tr> <tr class={{hideBrowserInfo}}> <td class=label>User Agent</td> <td>{{navigator.userAgent}}</td> </tr> <tr class={{hideBrowserInfo}}> <td class=label>Vendor</td> <td>{{navigator.vendor}}</td> </tr> <tr class={{hideBrowserInfo}}> <td class=label>Screen Width</td> <td>{{screen.width}}</td> </tr> <tr class={{hideBrowserInfo}}> <td class=label>Screen Height</td> <td>{{screen.height}}</td> </tr> </table> <br> <br> <span style=color:red>From neg-feedback.</span>'}])});